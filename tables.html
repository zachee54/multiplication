<!DOCTYPE html>
<html>
<head>
	<title>Révise tes tables de multiplication</title>
	<meta http-equiv="Content-type" content="charset=utf8" />
</head>
<body onload="createQuestion()">
	<div>
		<span id="text1"></span>&nbsp;x&nbsp;<span id="text2"></span>&nbsp;=&nbsp;
		<input type="text" id="answer" name="answer" style="width:30px" autofocus/>
		<br />
		<input type="button" id="send" value="Envoyer" onclick="checkAnswer()" />
	</div>
	<div id="message"></div>
	<input type="button" id="nouveau" name="nouveau" value="Nouveau" onclick="createQuestion()" />
	
	<script type="text/javascript">
		<!--
		var number1, number2;
		
		function createQuestion() {
			number1 = createRandomNumber();
			number2 = createRandomNumber();
			setTextContent("text1", number1);
			setTextContent("text2", number2);
			
			enableSendButton();
			document.getElementById("answer").value = "";
			document.getElementById("message").innerHTML = "";
		}
		
		function createRandomNumber() {
			return Math.ceil(Math.random() * 10);
		}
		
		function setTextContent(id, text) {
			var node = document.getElementById(id);
			node.innerHTML = text;
		}
		
		function checkAnswer() {
			var answer = parseInt(document.getElementById("answer").value);
			if (!isNaN(answer)) {
				var messageNode = document.getElementById("message");
				var solution = number1*number2;
				messageNode.innerHTML = (answer == solution) ? "Bravo !" : ("Désolé !<br/>La bonne réponse était " + number1 + " x " + number2 + " = " + solution);
				
				enableSolutionButton();
			}
		}
		
		function enableSolutionButton() {
			document.getElementById("send").disabled = true;
			document.getElementById("nouveau").setAttribute("style", "display:block");
		}
		
		function enableSendButton() {
			document.getElementById("send").disabled = false;
			document.getElementById("nouveau").setAttribute("style", "display:none");
		}
		-->
	</script>
</body>
</html>